@inject Unify.Web.I18N.IUnifyI18NHelpers Helpers
@{
	var i18NProvider = Environment.GetEnvironmentVariable("UNIFY_I18N_PROVIDER");
	var (lang, dir, localisedScript) = Context.GetLocale("client/app.js");
	var htmxEnabled = Environment.GetEnvironmentVariable("UNIFY_HTMX_ENABLED") != null;
	var authenticationProvider = Environment.GetEnvironmentVariable("UNIFY_AUTH_PROVIDER");
	var generator = ViewContext.HttpContext.Items[ThemeConstants.Generator];
	generator = generator is string ? generator.ToString()! : string.Empty;
	var themeCdn = Context.GetThemeCdn((string)ViewBag.Theme);
}
<!DOCTYPE html>
<html lang="@lang" xml:lang="@lang" dir="@dir" data-unify-theme="@ViewBag.Theme" data-unify-themecdn="@themeCdn"
	data-unify-generator="@generator">

<head>
	<base href="@Url.Content("~/")" />
	<meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=EDGE" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1" />
	<meta charset="utf-8" />
	<title>@ViewData["title"]</title>
	@await RenderSectionAsync("Meta", false)
	@if (htmxEnabled)
	{
		<meta name="htmx-config" historyCacheSize="20" indicatorClass="htmx-indicator"
			includeAspNetAntiforgeryToken="true" />
	}
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
		integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="~/client/strathweb2022.css" asp-append-version="true">
	<link rel="stylesheet" href="~/client/app.css" asp-append-version="true">
	<partial name="_FavIcons" optional="true" />
	<link rel="shortcut icon" href="~/client/strathweb2022/favicon.ico" asp-append-version="true">
	<style no-duplicates no-duplicate-source="href" render="UnifyStyles"></style>
	<style render="UnifyStylesInline"></style>
	@await RenderSectionAsync("Styles", false)
	@if (htmxEnabled)
	{
		<script src="@HtmxAntiforgeryScriptEndpoints.Path" defer></script>
	}
</head>

<body class="strath-bootstrap fixed-width">

	<a tabindex="0" href="#main-content" id="skipLink" style="z-index: 9999">Skip to content</a>

	<header class="site-header fixed-width" role="banner">

		<a name="top"></a>
		<div class="site-navigation">

			<nav class="navbar navbar-expand-lg navbar navbar-expand-lg site-navigation-primary py-2"
				aria-label="University of Strathclyde main menu">
				<div class="container">
					<div class="site-branding pt-2">
						<div class="site-branding-image mb-4 mb-md-0 homepage-d-none">
							<a href="/">

								<img data-unify-ssg-ignore class="light" src="@themeCdn/strath-logo-420x132.png"
									alt="University of Strathclyde homepage" width="200" height="63" />

							</a>
						</div>
						<img data-unify-ssg-ignore class="light d-none homepage-d-block"
							src="@themeCdn/strath-logo-whitetext-420x132.png"
							alt="University of Strathclyde, Glasgow and Royal Charter since 1964. Useful learning since 1796, Diamond Jubilee"
							width="200" height="63" />
					</div>
					<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
						data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Togglenavigation">


						<span class="navbar-toggler-icon-dark"></span></button>


					<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar">
						<div class="offcanvas-header" id="offcanvasNavbarLabel">
							<button type="button" class="btn-close-dark" data-bs-dismiss="offcanvas"
								aria-label="Close"></button>
						</div>
						<div class="offcanvas-body" id="Togglenavigation">

							<unify-ui-theme-cdn Url="/header.html" />

							@if (!string.IsNullOrEmpty(i18NProvider))
							{
								<div class="d-none d-md-block frm-lng">
									<partial name="Themes/Strathweb2022/_SelectLanguage" optional="true" />
								</div>
							}

							<unify-identity />

							<div class="site-search-inner py-4">
								<form aria-label="website search" role="search" id="fb-queryform" method="GET"
									action="https://www.strath.ac.uk/search/">
									<input type="hidden" name="collection" value="uos-meta" />
									<label for="searchbox" class="sr-only">Website search</label>
									<input type="text" name="query" id="searchbox" class="form-control-lg search-input"
										placeholder="Search" autocomplete="off">
									<button type="submit" class="btn btn-primary btn-small search-icon btn-on-dark"
										role="button" id="SubmitSearch" name="SubmitSearch" value="Submit"
										aria-label="Search"><i class="fa fa-search" aria-hidden="true"></i></button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</nav>
			<partial name="Themes/@ViewBag.Theme/_Breadcrumbs" />
		</div>
		<span id="main-content"></span>
	</header>

	<div class="dark-overlay"></div>

	<main aria-label="University of Strathclyde page content" role="main">
		<a id="a" name="a"></a>
		<flash id="flash" bootstrap-version="@generator" dismissable="true" class="mt-1" />
		@RenderBody()
	</main>

	<button id="backToTopBtn" tabindex="0" class="btn btn-pink btn-sm"><i class="fa fa-chevron-up"
			aria-hidden="true"></i> @Helpers.GetString("Back to top")</button>

	<unify-ui-theme-cdn Url="/footer.html" />

	<script render="UnifyScriptsInlineStart"></script>
	<script render="UnifyScripts"></script>
	<script src="@localisedScript" asp-append-version="true"></script>
	<script render="UnifyScriptsInlineEnd"></script>
	@await RenderSectionAsync("Scripts", false)
	@if (!string.IsNullOrWhiteSpace(authenticationProvider))
	{
		<unify-mock-users-menu />
	}
</body>

</html>
